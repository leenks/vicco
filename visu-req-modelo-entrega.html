<!DOCTYPE html>
<html lang="pt">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="imgs/favicon.png" type="image/png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
        integrity="sha512-...." crossorigin="anonymous" />
    <link rel="stylesheet" href="requisicoes.css">
    <link rel="stylesheet" href="forms.css">
    <style>
.box-info-requisicao-btn {
    position: relative; 
 
}

.botao-entrega {
    display: flex;
    align-items: center;
    position: relative; 

}

.botao-entrega img {
    width: 30px; 
    position: absolute; 
    top: 44.5%; 
}

/* Estilo padrão para telas grandes */
.botao-entrega img {
    left: 87%; /* Posição do ícone em telas grandes */
}

/* Ajustes para telas pequenas */
@media (max-width: 768px) {

    .modal-body {
        padding: 0;
        margin: 0;
        width: 75%;
    }

    .col-md-12 {
        padding: 0;
        margin: 0;
    }


    .botao-entrega img {
        left: 60%; /* Posição do ícone em telas pequenas */
    }
    
    .conteudo-in h3 {
        line-height: 30px;
    }

    .box-info-requisicao-btn .icones {
        width: 30px;
    }

    .box-info-requisicao {
        display: flex;
        flex-direction: column;
        align-items: center;
        text-align: center;
    }

    .box-info-requisicao-btn {
        margin-top: 10px; /* Adiciona um espaço entre o título e o botão */
        align-self: center; /* Alinha o botão ao início */
    }

    .botao-entrega {
    max-width: 80px !important;
    font-size: 16px;
 
}
}


    </style>
    <title>Vicco Construtora</title>
</head>

<body>

    <div class="container-full">

        <div class="topo-container">
            <div class="container-desktop">

                <div class="topo">
                    <div class="logo">
                        <a href="home.html">
                            <img src="imgs/logo.png" alt="Logo">
                        </a>
                    </div>

                    <div class="menu">
                        <div class="menu-item">
                            <a href="home.html">
                                <img src="imgs/ico-home.png" alt="Início" width="50px">
                                <p>Início</p>
                            </a>
                        </div>
                        <div class="menu-item">
                            <a href="#"><img src="imgs/ico-relatorios.png" alt="Relatórios" width="50px">
                                <p>Relatórios</p>
                            </a>
                        </div>
                        <div class="menu-item">
                            <a href="#" onclick="goBack()">
                                <img src="imgs/ico-voltar.png" alt="Voltar" width="50px">
                                <p>Voltar</p>
                            </a>
                        </div>
                    </div>
                </div>

            </div>
        </div>
        <div class="separa-topo"> &nbsp;</div>

        <div class="container-desktop">


            <center><img class="status" src="imgs/icons-status/11.png" /></center>

            <div class="conteudo">
                <div class="container-desktop">

                    <!-- Novo Menu de Migalhas (Breadcrumbs) -->
                    <div class="breadcrumbs">
                        <a href="#">INÍCIO</a>
                        <span> > </span>
                        <a href="#">TODAS AS OBRAS</a>
                        <span> > </span>
                        <a href="#">SUPRIMENTOS</a>
                    </div>


                    <div class="conteudo-in" id="conteudo-in">
                        <div class="box-info-requisicao">
                       
                            <h3>Requisição de Compra - SMART FIT - PIRITUBA 2</h3>
                           
                            <div class="box-info-requisicao-btn">
                                <span class="botao-entrega">
                                    <img class="icones" src="imgs/ico-entregar-azul.png"
                                        alt="Ícone de pagamento">
                                    ENTREGA
                                </span>
                            </div>

                           
    
                            </div>
                    <div class="form-row align-left">
                        <div class="space-btn text-center">
                            <button id="toggleButton" class="sub-icones mb-3">
                                <i class="fa fa-eye-slash"></i> 
                                <label> Ocultar Ordem de Compra</label>
                            </button>
                        </div>
                    </div>

                    <div class="form-content">

                        <div class="col-md-12" id="dados-req">

                            <div class="form-row">
                                <div class="col-md-12">
                                    <label>Descrição:</label>
                                    <span
                                        style="font-size: 20px; font-weight: bold; padding: 2px; max-width: 600px; word-wrap: break-word;">Material
                                        para Apoio Civil</span><br>
                                        
                                </div>

                            </div>
                            <div class="form-row">
                                <div class="col-md-6 col-12 mb-3">
                                    <label>Cliente:</label>
                                    <span style="font-weight: bold; text-transform: uppercase;">SMART FIT ESCOLA DE
                                        GINÁSTICA E DANÇA LTDA</span>
                                </div>

                                <div class="col-md-6 col-12 mb-3">
                                    <label>Obra:</label>
                                    <span style="font-weight: bold; text-transform: uppercase;">SMARTFIT - JARDINS
                                        5</span>
                                </div>

                                <div class="col-md-6 col-12 mb-3">
                                    <label>Endereço:</label>
                                    <span style="font-weight: bold; text-transform: uppercase;">AVENIDA PAULISTA, 1234 -
                                        BELA VISTA - SP</span>
                                </div>

                                <div class="col-6 mb-3">
                                    <label>Grupo:</label>
                                    <select id="grupo" name="grupo" class="form-control" required disabled>
                                        <option value="20" selected>02 - Custos Administrativos</option>
                                    </select>
                                </div>
                                <div class="col-6 mb-3">
                                    <label>Sub-Grupo:</label>
                                    <select id="sub_grupo" name="sub_grupo" class="form-control" required disabled>
                                        <option value="1" selected>Transportes</option>
                                    </select>
                                </div>
                                <div class="col-12 mb-3">
                                    <label for="obs">Observações:</label>
                                    <textarea class="form-control" rows="4" id="obs" placeholder=" " name="obs"
                                        disabled>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam in turpis quis justo luctus faucibus. Vivamus sodales ipsum ut odio commodo, sit amet pharetra ipsum fringilla. Sed ut tortor leo. Nullam ut arcu id velit accumsan volutpat nec sit amet justo.</textarea>
                                </div>
                            </div>
                            <hr width="100%">          
                        </div>
                           
                            
                        <div class="col-md-12">
                            <div>
                                <div style="width: 90%;">
                                    <h4 style="text-align: left;">Entrega Fornecedor 01/02</h4>
                                    <p style="text-transform: uppercase; font-weight: bold; margin: 0 10px;">MARCA S.A SOLUTIONS</p>
                                    <p style="text-transform: uppercase; font-weight: bold; margin: 0 10px;">R$ 300,00</p>
                                </div>
                                
                                <div class="form-row align-items-center" style="text-align: right;">
                                    <div style="display: flex; align-items: center; margin: 20px 0;">
                                        <label for="nota_fiscal" style="margin-right: 10px;">Nº da Nota Fiscal:</label>
                                        <input type="text" class="form-control text-center"
                                            style="background-color: #ffffff; color: #666; width: 200px; border: solid 2px #9b9b9b"
                                            maxlength="100" id="nota_fiscal" name="nota_fiscal"
                                            value="Digite Nº da Nota" />
                                    </div>
                        
                                    <input type="file" id="anexo" name="anexo" class="sub-icones" style="display: none;" />
                                    <button type="submit" id="sal_r" name="filtrar" class="sub-icones" title="Anexar Nova Nota Fiscal" style="margin-left: 10px;">
                                        <i class="fa-solid fa-camera"></i><label>Anexar NF Romaneio</label>
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        
                            
                        
                                      
                        <table id="tab-2" class="table-ficha">
                            <thead class="thead-light">
                                <tr>
                                    <th>Descrição Produto/ Marca</th>
                                    <th>Qtde. Comprada <br>xfor Recebida</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Areia Grossa Saco 8kg / Qualquer<br><span style="color:red;">Grupo: 07 - Paredes e Divisórias / Sub-Grupo: Alvenaria de Elevação</span></td>
                                    <td>0/20</td>
                                        <td>
                                            <div class="tooltip-container" id="bota-borda">
                                                <img src="imgs/status-entrega/ico-aguardando-entrega.png" width="40px"
                                                    data-description="Areia Grossa Saco 8kg" class="status-icon"
                                                    onclick="openModal('modal-check-entrega')">
                                            <span class="tooltip-text">Iniciar Check-List da Entrega</span>
                                            <br>Aguardando Entrega
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>Talhadeira - 5/8\" / Qualquer<br><span style="color:red;">Grupo: 20 - Serralheria / Sub-Grupo: Coberturas</span></td>
                                    <td>0/20</td>
                                    <td>
                                        <div class="tooltip-container">
                                            <img src="imgs/status-entrega/ico-aguardando-entrega.png" width="40px"
                                                data-description="Talhadeira - 5/8\" class="status-icon"
                                                onclick="openModal('modal-check-entrega')">
                                            <span class="tooltip-text">Iniciar Check-List da Entrega</span>
                                            <br>Aguardando Entrega
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>Marreta Oitavada - 1kg / Qualquer<br><span style="color:red;">Grupo: 07 - Paredes e Divisórias / Sub-Grupo: Alvenaria de Elevação</span></td>
                                    <td>0/3</td>
                                    <td>
                                        <div class="tooltip-container">
                                            <img src="imgs/status-entrega/ico-aguardando-entrega.png" width="40px"
                                                data-description="Marreta Oitavada - 1kg" class="status-icon"
                                                onclick="openModal('modal-check-entrega')">
                                            <span class="tooltip-text">Iniciar Check-List da Entrega</span>
                                            <br>Aguardando Entrega
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>Talhadeira - 5/8\" / Qualquer<br><span style="color:red;">Grupo: 20 - Serralheria / Sub-Grupo: Coberturas</span>    </td>
                                    <td>0/20</td>
                                    <td>
                                        <div class="tooltip-container">
                                            <img src="imgs/status-entrega/ico-aguardando-entrega.png" width="40px"
                                                data-description="Talhadeira - 5/8\" class="status-icon"
                                                onclick="openModal('modal-check-entrega')">
                                            <span class="tooltip-text">Iniciar Check-List da Entrega</span>
                                            <br>Aguardando Entrega
                                        </div>
                                    </td>
                                </tr>
                                <tr style="background-color: #cccccc;">
                                    <td><br></td>
                                    <td>0/0</td>
                                    <td>
                                        <div class="tooltip-container">
                                            <img src="imgs/status-entrega/ico-aguardando-finalizar.png" height="40px">
                                            <span class="tooltip-text">Iniciar Check-List da Entrega</span>
                                            Aguardando
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        
                    </div>
                </div>


            </div><!--div conteudo-->

        </div><!--container desktop-->
    </div><!--container full-->

   <!-- Modal CheckList de Entrega -->
<div id="modal-check-entrega" class="modal">
    <div class="modal-envolto">
        <div class="modal-content">
            <span class="close" onclick="closeModal('modal-check-entrega')">&times;</span>
            <h2 class="tit-modal">Andra SA Eletric Solutions</h2>
            <div class="modal-wrap">
                <div class="filtro-tabela">
                    <div class="qua-4 modal-body">
                        <div class="row">
                            <div class="col-md-2"></div>
                            <div class="col-md-8 text-center"></div>
                            <div class="col-md-2"></div>
                        </div>
                        <div class="row">
                            <div class="col-md-12"
                                style="background-color: #fbfbfb; border-radius: 10px; margin: 20px 0px 0px 10px; width: 90%;">
                                <div class="form-group">
                                    <div class="text-center">
                                        <h3 style="color: orangered; font-size: 26px;">Areia Grossa - Saco 8kg / Qualquer</h3>
                                        <h4>Qual a Quantidade Recebida</h4>
                                        <div class="d-flex justify-content-center align-items-center">
                                            <input type="text" id="quantity-received" class="form-control mr-2"
                                                style="width: 120px;" placeholder="Quantidade" oninput="validateNumber(this)" />
                                            <input class="form-control" style="width: 80px;" placeholder="KG" disabled>
                                        </div>
                                        <span class="text-muted mt-2 d-block">
                                            Conte o produto que está sendo entregue antes de apontar a quantidade no sistema. Observe bem a unidade do Pedido x Nota.
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- Espaço em branco para conteúdo futuro -->
                        
                            
                        <h4 class="text-center">Check-List da Entrega</h4>
                        <div class="checklist">
                            <!-- Checklist Item 1 -->
                            <div class="checklist-item">
                                <div class="checklist-content">
                                    <div class="checkbox-icon" onclick="toggleCheckbox(this, true)">
                                        <img src="imgs/status-entrega/ico-check-sim-enable.png" alt="Sim"
                                            class="checkbox-icon-img" data-state="unchecked">
                                        <div class="checkbox-label">Sim</div>
                                    </div>
                                    <span class="question">O produto está correto?</span>
                                    <div class="checkbox-icon" onclick="toggleCheckbox(this, false)">
                                        <img src="imgs/status-entrega/ico-check-no-enable.png" alt="Não"
                                            class="checkbox-icon-img" data-state="unchecked">
                                        <div class="checkbox-label">Não</div>
                                    </div>
                                </div>
                                <div class="text-muted">Observe se as características do produto estão condizentes com o solicitado.</div>
                                <div class="reason-input" style="display: none;">
        <textarea class="observations-input" placeholder="Explique o que houve de errado..."></textarea>
    </div>
                            </div>
                        
                            <!-- Checklist Item 2 -->
                            <div class="checklist-item">
                                <div class="checklist-content">
                                    <div class="checkbox-icon" onclick="toggleCheckbox(this, true)">
                                        <img src="imgs/status-entrega/ico-check-sim-enable.png" alt="Sim"
                                            class="checkbox-icon-img" data-state="unchecked">
                                        <div class="checkbox-label">Sim</div>
                                    </div>
                                    <span class="question">O produto está em bom estado?</span>
                                    <div class="checkbox-icon" onclick="toggleCheckbox(this, false)">
                                        <img src="imgs/status-entrega/ico-check-no-enable.png" alt="Não"
                                            class="checkbox-icon-img" data-state="unchecked">
                                        <div class="checkbox-label">Não</div>
                                    </div>
                                </div>
                                <div class="text-muted">Observe se o produto não tem avarias ou defeitos de fabricação.</div>
                                <div class="reason-input" style="display: none;">
                                    <textarea class="observations-input" placeholder="Explique o que houve de errado..."></textarea>
                                </div>
                            </div>
                        
                            <!-- Checklist Item 3 -->
                            <div class="checklist-item">
                                <div class="checklist-content">
                                    <div class="checkbox-icon" onclick="toggleCheckbox(this, true)">
                                        <img src="imgs/status-entrega/ico-check-sim-enable.png" alt="Sim"
                                            class="checkbox-icon-img" data-state="unchecked">
                                        <div class="checkbox-label">Sim</div>
                                    </div>
                                    <span class="question">A marca está correta?</span>
                                    <div class="checkbox-icon" onclick="toggleCheckbox(this, false)">
                                        <img src="imgs/status-entrega/ico-check-no-enable.png" alt="Não"
                                            class="checkbox-icon-img" data-state="unchecked">
                                        <div class="checkbox-label">Não</div>
                                    </div>
                                </div>
                                <div class="text-muted">Se existe uma marca apontada no pedido, leve isso em consideração.</div>
                                <div class="reason-input" style="display: none;">
                                    <textarea class="observations-input" placeholder="Explique o que houve de errado..."></textarea>
                                </div>
                            </div>
                        
                            <!-- Checklist Item 4 -->
                            <div class="checklist-item">
                                <div class="checklist-content">
                                    <div class="checkbox-icon" onclick="toggleCheckbox(this, true)">
                                        <img src="imgs/status-entrega/ico-check-sim-enable.png" alt="Sim"
                                            class="checkbox-icon-img" data-state="unchecked">
                                        <div class="checkbox-label">Sim</div>
                                    </div>
                                    <span class="question">Recebeu a mercadoria?</span>
                                    <div class="checkbox-icon" onclick="toggleCheckbox(this, false)">
                                        <img src="imgs/status-entrega/ico-check-no-enable.png" alt="Não"
                                            class="checkbox-icon-img" data-state="unchecked">
                                        <div class="checkbox-label">Não</div>
                                    </div>
                                </div>
                                <div class="text-muted">A decisão de aceitar a mercadoria é sua e do seu departamento. <br> Tenha em mente os pilares: PRAZO, CUSTO e QUALIDADE.</div>
                                <div class="reason-input" style="display: none;">
                                    <textarea class="observations-input" placeholder="Explique o que houve de errado..."></textarea>
                                </div>
                            </div>
                        
                            <!-- Observações -->
                            <div class="checklist-item">
                                <div class="checklist-content">
                                    <span class="question">Observações</span>
                                </div>
                                <div class="observations-wrapper">
                                    <textarea class="observations-input" placeholder="Digite suas observações aqui..."></textarea>
                                    <div class="status-container">
                                        <img src="imgs/status-entrega/ico-aguardando-finalizar.png" alt="Status" class="entrega-status-icon" onclick="toggleStatus(this)">
                                        <div class="checkbox-label">Recebimento finalizado?</div>
                                    </div>
                                </div>
                            </div>
                        
                        
                    </div>
                   <!-- Botão Salvar e Fechar -->
                <div class="align-center subsub-botoes">
                    <div>
                        <button type="button" id="salvar-reprovar" name="salvar-reprovar" class="sub-icones align-center">
                            <i class="fa-regular fa-floppy-disk"></i>
                        </button>
                        <label for="salvar-reprovar">&nbsp;Salvar e Fechar</label>
                    </div>
                </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    // Adiciona um evento de clique ao botão "Salvar e Fechar"
    document.getElementById('salvar-reprovar').addEventListener('click', function() {
        closeModal('modal-check-entrega');
    });

    function initializeCheckboxes() {
        const checkboxes = document.querySelectorAll('.checkbox-icon-img');
        checkboxes.forEach(img => {
            if (img.alt === 'Sim') {
                img.src = 'imgs/status-entrega/ico-check-sim-enable.png'; // Imagem para "Sim"
            } else {
                img.src = 'imgs/status-entrega/ico-check-no-enable.png'; // Imagem para "Não"
            }
        });
    }

    function toggleCheckbox(element, isChecked) {
    const icon = element.querySelector('.checkbox-icon-img');
    const reasonInput = element.closest('.checklist-item').querySelector('.reason-input');

    // Atualiza o estado dos checkboxes
    if (isChecked) {
        icon.src = 'imgs/status-entrega/ico-check-sim.png';
        icon.classList.add('checked');
        icon.classList.remove('unchecked');
        reasonInput.style.display = 'none'; // Esconde o campo de razão
    } else {
        icon.src = 'imgs/status-entrega/ico-check-no.png';
        icon.classList.add('unchecked');
        icon.classList.remove('checked');
        reasonInput.style.display = 'block'; // Mostra o campo de razão
    }

    // Atualiza os ícones "Sim" e "Não" do item
    const siblingIcons = element.parentNode.querySelectorAll('.checkbox-icon');
    siblingIcons.forEach(sibling => {
        const siblingIconImg = sibling.querySelector('.checkbox-icon-img');
        if (sibling !== element) {
            if (isChecked) {
                siblingIconImg.src = 'imgs/status-entrega/ico-check-no-enable.png';
                siblingIconImg.classList.remove('checked', 'unchecked');
            } else {
                siblingIconImg.src = 'imgs/status-entrega/ico-check-sim-enable.png';
                siblingIconImg.classList.remove('checked', 'unchecked');
            }
        }
    });
}


    function toggleStatus(icon) {
        const iconElement = icon;
        const currentSrc = iconElement.getAttribute('src');

        if (currentSrc.includes('ico-aguardando-finalizar.png')) {
            iconElement.setAttribute('src', 'imgs/status-entrega/ico-entrega-finalizada.png');
        } else {
            iconElement.setAttribute('src', 'imgs/status-entrega/ico-aguardando-finalizar.png');
        }
    }

    // Inicializa os checkboxes ao carregar a página
    document.addEventListener('DOMContentLoaded', initializeCheckboxes);
</script>




    <script>
        //volta um nível de página na navegação quando clicar no menu Voltar
        function goBack() {
            window.history.back();
        }
    </script>

    <script>
        document.getElementById('toggleButton').addEventListener('click', function () {
            var formContent = document.querySelector('#dados-req');
            formContent.classList.toggle('hidden');
            var icon = this.querySelector('i');
            if (formContent.classList.contains('hidden')) {
                this.innerHTML = '<i class="fa fa-eye"></i> <label> Mostrar Ordem de Compra</label>';
            } else {
                this.innerHTML = '<i class="fa fa-eye-slash"></i> <label> Ocultar Ordem de Compra</label>';
            }
        });
    </script>



    <script src="filtro-plan.js"></script>
</body>

</html>